{% extends 'includes/fullstructure.html' %}
{% block Content %}
<ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a href="/dashboard">Kitebird</a>
    </li>
    <li class="breadcrumb-item active">All Responces with errors</li>
  </ol>

  <!-- DataTables Example -->
<div class="card mb-3">
    <div class="card-header">
      <i class="fas fa-table"></i>
      Errors</div>
    <div class="card-body">
      <div class="table-responsive">
      <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
        <thead>
            <tr>
                <th>Responce id</th>
                <th>Responce type</th>
                <th>Error type</th>
                <th>Error Message</th>
                <th>Date & time</th>
            </tr>
        </thead>
        <tbody>
            {% if logs %}

            {% for log in logs["body"] %}
                <tr>
                   <td>{{ log["_id"] }}</td>
                   <td>{{ log["responseType"] }}</td>
                   <td>{{ log["status"]["statusMessage"] }}</td>
                   <td>{% if log["responseBody"]["body"]["errorMessage"] %}
                    {{ log["responseBody"]["body"]["errorMessage"] }}
                   {% else %}
                   No error message available
                   {% endif %}

                   </td>
                   <td>{{ admin_date_format(log["timeStamp"]) }}</td>
                </tr>
            {% endfor %}
            
            {% else %}
            
            {% endif %}
        </tbody>
        <tfoot>
            <tr>
                <th>Responce id</th>
                <th>Responce type</th>
                <th>Error type</th>
                <th>Error Message</th>
                <th>Date & time</th>
            </tr>
        </tfoot>
    </table>
<!-- Datatable example -->



{% endblock Content %}